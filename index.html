<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>work in progress</title>


<link href="https://fonts.googleapis.com/css2?family=Sixtyfour&display=swap" rel="stylesheet">

<style>
    :root{
        --dim-green: rgba(0,255,0,0.1);
        --neon-green: #00ff66;
        --button-width: 500px;            
        --button-height: 52px;
        --button-radius: 12px;            
        --fade-duration: 800ms;
    }

    html,body{
        height:100%;
        margin:0;
        padding:0;
        background:#000;
        font-family: 'Sixtyfour', monospace;
        -webkit-font-smoothing:antialiased;
        -moz-osx-font-smoothing:grayscale;
    }

    body {
        display:flex;
        flex-direction:column;
        justify-content:flex-start;
        align-items:center;
        cursor:pointer;
        overflow:hidden;
        user-select:none;
    }

    .overlay {
        position:fixed;
        inset:0;
        background:#000;
        color:#0f0;
        display:flex;
        align-items:center;
        justify-content:center;
        font-size:48px;
        z-index:50;
        opacity:1;
        transition:opacity 0.8s ease;
    }
    .overlay.hidden { opacity:0; pointer-events:none; }

    #mainContent{
        display:none;
        width:100%;
        height:100%;
        position:relative;
        flex-direction:column;
        align-items:center;
        justify-content:flex-start;
        pointer-events:none;
    }

    #mainImage{
        margin-top:40px;
        position:relative;
        filter: drop-shadow(0 0 8px #00ff00) drop-shadow(0 0 16px #00ff00);
        z-index:10;
        -webkit-user-drag:none;
        user-drag:none;
    }

    #hazard {
        position:absolute;
        top:50%;
        left:50%;
        transform:translate(-50%,-50%);
        opacity:0;
        z-index:5;
        pointer-events:none;
        transition: opacity 0.05s ease;
        -webkit-user-drag:none;
    }

    .links {
        width: 100%;
        max-width: 500px;
        display:flex;
        flex-direction:column;
        align-items:center;
        gap: 14px;
        margin-top: 80px;
        z-index: 20;
        pointer-events: auto;
    }

    .link-btn {
        width: var(--button-width);
        height: var(--button-height);
        display:flex;
        align-items:center;
        justify-content:center;
        background: var(--dim-green);
        color: #fff;
        text-decoration: none;
        border-radius: var(--button-radius);
        font-size: 18px;
        font-weight: 600;
        box-shadow: 0 3px 0 rgba(0,0,0,0.6);
        outline: 2px solid transparent;
        transition: color 160ms linear, transform 160ms ease, box-shadow 260ms ease;
        -webkit-user-drag:none;
        user-select:none;
        opacity:0;
        transform: translateY(8px);
        position: relative;
    }

    .link-btn:hover {
        color: #000;
        transform: translateY(0);
        box-shadow:
            0 6px 18px rgba(0,0,0,0.6),
            0 0 10px rgba(0,255,102,0.5);
        outline-color: rgba(0,0,0,0);
    }

    .link-btn::after{
        content: "";
        position: absolute;
        inset: -6px;
        border-radius: calc(var(--button-radius) + 6px);
        pointer-events: none;
        box-shadow: 0 0 0 rgba(0,0,0,0);
        opacity: 0;
        transition: opacity 160ms ease;
    }

    .link-btn:hover::after{
        opacity:1;
        animation: neonPulse 1000ms infinite linear;
    }

    @keyframes neonPulse {
        0%   { box-shadow: 0 0 6px rgba(0,255,102,0.25), 0 0 18px rgba(0,255,102,0.08); }
        50%  { box-shadow: 0 0 10px rgba(0,255,102,0.5), 0 0 28px rgba(0,255,102,0.18); }
        100% { box-shadow: 0 0 6px rgba(0,255,102,0.25), 0 0 18px rgba(0,255,102,0.08); }
    }

    .link-btn.visible {
        opacity: 1;
        transform: translateY(0);
        transition: opacity 700ms ease, transform 500ms cubic-bezier(.22,.9,.2,1);
    }

    
    .text-btn {
        background:none;
        border:none;
        color: #fff; 
        font-family: 'Sixtyfour', monospace;
        font-size: 36px; 
        font-weight: 600;
        cursor:pointer;
        margin-top: 80px; 
        opacity:0;
        transform: translateY(8px);
        transition: color 160ms linear, text-shadow 400ms ease, opacity 700ms ease, transform 500ms cubic-bezier(.22,.9,.2,1);
    }
    .text-btn:hover {
        text-shadow: 0 0 12px rgba(0,255,102,0.7), 0 0 28px rgba(0,255,102,0.4); 
        color:#00ff66;
        transform: translateY(0);
    }
    .text-btn.visible {
        opacity:1;
        transform: translateY(0);
    }

    @media (max-width:520px){
        :root{ --button-width: 90%; }
        .overlay { font-size: 28px; }
        .link-btn { font-size:16px; height:48px; }
        .text-btn { font-size: 28px; }
    }
</style>
</head>
<body>

<div id="initOverlay" class="overlay">Initializing...</div>
<div id="clickOverlay" class="overlay hidden">Click Anywhere</div>

<div id="mainContent">
    <img id="mainImage" src="zxlpvx.png" alt="ZXLPVX" draggable="false">
    <img id="hazard" src="hazard.png" alt="Hazard" draggable="false">

    <div class="links" id="linksContainer" aria-hidden="true">
        <a role="button" id="btnTelegram" class="link-btn" href="javascript:void(0)">Telegram</a>
        <a role="button" id="btnSession" class="link-btn" href="javascript:void(0)">Session</a>
        <a role="button" id="btnDiscord" class="link-btn" href="javascript:void(0)">Discord</a>
        <a role="button" id="btnMail" class="link-btn" href="javascript:void(0)">Mail</a>
        <button id="btnSanctum" class="text-btn">Sanctum</button>
    </div>

    <audio id="beatAudio" src="beat.mp3" loop></audio>
</div>

<script>
const initOverlay = document.getElementById('initOverlay');
const clickOverlay = document.getElementById('clickOverlay');
const mainContent = document.getElementById('mainContent');

mainContent.addEventListener('contextmenu', e => e.preventDefault());

const imagesToLoad = ['zxlpvx.png','hazard.png'];
const audioToLoad = ['beat.mp3'];
const fontsToLoad = ['Sixtyfour'];

function preloadImages(urls){return Promise.all(urls.map(url=>new Promise(res=>{const img=new Image();img.src=url;img.onload=res;img.onerror=res;})));}
function preloadAudio(urls){return Promise.all(urls.map(url=>new Promise(res=>{const a=new Audio();a.src=url;a.oncanplaythrough=res;a.onerror=res;})));}
function preloadFonts(names){return Promise.all(names.map(name=>{const font=new FontFace(name,`url(https://fonts.googleapis.com/css2?family=${name.replace(/ /g,'+')}&display=swap)`);return font.load().then(f=>document.fonts.add(f)).catch(()=>{});}))}

Promise.all([preloadImages(imagesToLoad),preloadAudio(audioToLoad),preloadFonts(fontsToLoad)]).then(()=>{
    initOverlay.classList.add('hidden');
    setTimeout(()=>clickOverlay.classList.remove('hidden'),800);
});

clickOverlay.addEventListener('click',()=>{
    clickOverlay.classList.add('hidden');
    mainContent.style.display='flex';
    const linksContainer=document.getElementById('linksContainer');
    linksContainer.setAttribute('aria-hidden','false');

    const audio=document.getElementById('beatAudio');
    audio.play();

    const btns=[
        document.getElementById('btnTelegram'),
        document.getElementById('btnSession'),
        document.getElementById('btnDiscord'),
        document.getElementById('btnMail'),
        document.getElementById('btnSanctum')
    ];
    btns.forEach((b,i)=>{b.style.pointerEvents='auto';setTimeout(()=>b.classList.add('visible'),200*i);});

    const audioCtx=new (window.AudioContext||window.webkitAudioContext)();
    const audioSource=audioCtx.createMediaElementSource(audio);
    const analyser=audioCtx.createAnalyser();

    audioSource.connect(analyser);
    analyser.connect(audioCtx.destination);

    analyser.fftSize=256;
    const dataArray=new Uint8Array(analyser.frequencyBinCount);
    const hazard=document.getElementById('hazard');
    const minBin=0,maxBin=10,bassThreshold=221;
    let hazardVisible=false;

    function detectBassHit(){
        analyser.getByteFrequencyData(dataArray);
        let maxBass=0;
        for(let i=minBin;i<=maxBin;i++){if(dataArray[i]>maxBass)maxBass=dataArray[i];}
        if(maxBass>bassThreshold){if(!hazardVisible){hazardVisible=true;hazard.style.opacity=0.03;}}
        else{if(hazardVisible){hazardVisible=false;hazard.style.opacity=0;}}
        requestAnimationFrame(detectBassHit);
    }

    audioCtx.resume().then(()=>detectBassHit());
});

document.getElementById('btnTelegram').addEventListener('click',()=>{location.href='https://t.me/zxlpvx';});
document.getElementById('btnDiscord').addEventListener('click',()=>{location.href='https://discord.gg/zxlpvx';});
document.getElementById('btnMail').addEventListener('click',()=>{location.href='https://mail.google.com/mail/?view=cm&fs=1&to=zxlpvx@proton.me';});
document.getElementById('btnSession').addEventListener('click',async()=>{
    const toCopy='3456ty43wsgy54ed';
    try{await navigator.clipboard.writeText(toCopy);const btn=document.getElementById('btnSession');const oldText=btn.textContent;btn.textContent='Copied';setTimeout(()=>btn.textContent=oldText,900);}
    catch(e){const ta=document.createElement('textarea');ta.value=toCopy;document.body.appendChild(ta);ta.select();try{document.execCommand('copy');}catch(_){ }document.body.removeChild(ta);}
});
document.getElementById('btnSanctum').addEventListener('click',()=>{location.href='https://zxlpvx.wtf/sanctum';});

document.addEventListener('dragstart',e=>e.preventDefault());
</script>
</body>
</html>
